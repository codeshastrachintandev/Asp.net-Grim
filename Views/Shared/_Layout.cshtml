<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - GrimLogin</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/GrimLogin.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/Login.css" asp-append-version="true" />

    <!--Bootstrap cdn-->

    @* <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> *@
    

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400|Montserrat:700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>


    <!--Google icon cdn -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
@* <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@40,400,1,0" /> *@
    <!--Local css-->
    <link rel="stylesheet" type="text/css" href="~/css/section.css">
    <link rel="stylesheet" type="text/css" href="~/css/badge_notifiction.css">
    <link rel="stylesheet" type="text/css" href="~/css/Cart.css">
    <link rel="stylesheet" type="text/css" href="~/css/common.css">
    @* <link rel="stylesheet" type="text/css" href="~/css/NewIndent.css"> *@
    @* <link rel="stylesheet" type="text/css" href="~/css/sidebarandheader.css"> *@
</head>
<body>

    @* sidebar menu   class="toggled"*@
    <div id="wrapper"   >
         <!-- sidebar start -->
            <aside id="sidebar-wrapper">
            <div class="sidebar-brand">
                <h2>Logo</h2>
            </div>
          
                <ul class="sidebar-nav" id="sidebar-nav">
                    @* display all side menu name *@
                </ul> 
         
            </aside>
        <!-- sidebar end -->

        <!-- header start -->
        <div id="navbar-wrapper">
        <nav class="navbar navbar-inverse">
            <div class="container-fluid nav-container-fluid ">
            <div class="navbar-header">
                <div class="header-inner">
                <div>
                    <a href="#" class="navbar-brand" id="sidebar-toggle"><span class="material-symbols-rounded">menu</span></a>
                </div>
                <div class="header-inner-icon">
                    <div class="position">
                        <div class="badge red" id="notifications_no"></div>
                        <span class="material-symbols-rounded">notifications</span>
                    </div>
                    <a href="Cart">
                        <div class="position">
                            <div class="badge green" id="notifications_cart"></div>
                            <a href="Cart"><span class="material-symbols-rounded">shopping_cart</span></a>
                        </div>
                    </a>
                    <div class="position">
                        <span class="material-symbols-rounded">account_circle</span><span id="username"></span>
                    </div>
                </div>
                </div>
            </div>
            </div>
        </nav>
        </div>
        <!-- header end -->
        @RenderBody()
        <!-- Vertically centered modal -->
        <div class="modal-dialog modal-dialog-centered">
        <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
                </div>
            </div>
            </div>
        </div>


    </div>
    @* sidebar menu end *@




    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <script src="~/js/main.js"></script>
    <script src="~/js/Home/Home.js"></script>

    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/js/Logout.js"></script>

    <!-- Jquery CDN Link -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script type="text/javascript">
      
        // Check if the screen size matches a mobile device
        var isMobile = window.matchMedia("(max-width: 767px)").matches;

        // Add class if it's a mobile device
        if (isMobile) {
            document.getElementById("sidebar-wrapper").classList.add("toggled");
        }
        const $button = document.querySelector('#sidebar-toggle');
        const $wrapper = document.querySelector('#wrapper');

        $button.addEventListener('click', (e) => {
            e.preventDefault();
            $wrapper.classList.toggle('toggled');
        });
        </script>

        <script type="text/javascript">

        $('.add').click(function () {
            var th = $(this).closest('.wrap').find('.count');
            th.val(+th.val() + 1);
        });

        $('.sub').click(function () {
            var th = $(this).closest('.wrap').find('.count');
            if (th.val() > 1) th.val(+th.val() - 1);
        });

       
        $(".sidebar-nav li").click(function (e) {
            $(".sidebar-nav li").removeClass("active");
            $(this).addClass("active");
        });
        
    </script>
    

    <script>
        document.getElementById("username").innerHTML = Logindata.user[0].first_name + " " + Logindata.user[0].sap_user_id;
        @* console.log("Logindata on master page----->", Logindata); *@
        if (!Logindata) {
            window.location.href = "Login";
        }
        var menu=[] ;
        var icon;
        var menuOptions = roles_menus[Logindata.user[0].role_id][0];
        
        $.each(menuOptions, function(key, value) {
            $.each(icons_list, function(ikey, ivalue) {
                if(ikey==key){icon=ivalue } 
            });
            var $li = $("<li>");
            var $a = $("<a>").addClass("nav-link").attr({
                "asp-area": "",
                "asp-controller": "Home",
                "asp-action": key,
                "href": key,
            }).html(`${icon}<span>${value}</span>`);
            $li.append($a);
            $("#sidebar-nav").append($li);
        });
        var $li = $("<li>");
        $b = $("<a>").addClass("nav-link").attr({"onclick":"logout()"}).html(`<span class="material-symbols-rounded">logout</span><span>LogOut</span>`);
        $li.append($b);
        $("#sidebar-nav").append($li);

    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
